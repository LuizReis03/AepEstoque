{"ast":null,"code":"var _jsxFileName = \"/home/matheus/matProjects/AepEstoque/src/pages/CadastroFornecedor.js\",\n  _s = $RefreshSig$();\n//Libs\nimport React, { useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n\n//Static\nimport \"../static/css/formulario.css\";\n\n//Components\nimport Header from \"../components/Header\";\n\n//Services\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CadastroFornecedor() {\n  _s();\n  const [id, setId] = useState(null);\n  const [nome, setNome] = useState('');\n  const [empresa, setEmpresa] = useState('');\n  const [contato, setContato] = useState('');\n  const [cnpj, setCnpj] = useState('');\n  const [endereco, setEndereco] = useState('');\n  const [email, setEmail] = useState('');\n  const accessToken = localStorage.getItem('accessToken');\n  const {\n    providerId\n  } = useParams();\n  let navigate = useNavigate();\n  async function loadProvider() {\n    try {\n      const response = await api.get(`api/v1/providers/${providerId}`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      console.log(response);\n      setId(response.data.id);\n      setEmail(response.data.email);\n      setCnpj(response.data.cnpj);\n      setContato(response.data.contato);\n      setEndereco(response.data.endereco);\n      setNome(response.data.nome);\n      setEmpresa(response.data.empresa);\n    } catch (error) {\n      alert('Error recovering Book! Try again!');\n      navigate(\"./home\", {\n        replace: true\n      });\n    }\n  }\n  async function saveOrUpdate(e) {\n    e.preventDefault();\n    const data = {\n      nome,\n      empresa,\n      contato,\n      cnpj,\n      endereco,\n      email\n    };\n    try {\n      if (providerId === '0') {\n        await api.post('api/v1/providers', data, {\n          headers: {\n            Authorization: `Bearer ${accessToken}`\n          }\n        });\n      } else {\n        data.id = id;\n        await api.put('api/v1/providers', data, {\n          headers: {\n            Authorization: `Bearer ${accessToken}`\n          }\n        });\n      }\n      navigate(\"./listaFornecedores\", {\n        replace: true\n      });\n    } catch (err) {\n      console.log(err);\n      alert('Insira os dados corretamente e tente novamente!!!');\n    }\n  }\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: saveOrUpdate,\n      className: \"box-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"titulo-form\",\n        children: providerId === '0' ? \"CADASTRO FORNECEDOR\" : \"ATUALIZAR FORNECEDOR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"titulo-campo-form\",\n        children: \"Nome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"nome\",\n        type: \"text\",\n        className: \"campo-form\",\n        value: nome,\n        onChange: e => setNome(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"titulo-campo-form\",\n        children: \"Empresa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"empresa\",\n        type: \"option\",\n        className: \"campo-form\",\n        value: email,\n        onChange: e => setEmpresa(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"titulo-campo-form\",\n        children: \"Telefone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"telefone\",\n        type: \"text\",\n        className: \"campo-form\",\n        value: contato,\n        onChange: e => setContato(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"titulo-campo-form\",\n        children: \"CNPJ\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cnpj\",\n        type: \"text\",\n        className: \"campo-form\",\n        value: cnpj,\n        onChange: e => setCnpj(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"titulo-campo-form\",\n        children: \"Endere\\xE7o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"endereco\",\n        type: \"text\",\n        className: \"campo-form\",\n        value: endereco,\n        onChange: e => setEndereco(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"titulo-campo-form\",\n        children: \"E-mail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        type: \"email\",\n        className: \"campo-form\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-form\",\n        type: \"submit\",\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n_s(CadastroFornecedor, \"cTo/d7dcSkWp3Q7k8jqP1Dxx5gM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CadastroFornecedor;\nexport default CadastroFornecedor;\nvar _c;\n$RefreshReg$(_c, \"CadastroFornecedor\");","map":{"version":3,"names":["React","useState","useNavigate","useParams","Header","api","CadastroFornecedor","id","setId","nome","setNome","empresa","setEmpresa","contato","setContato","cnpj","setCnpj","endereco","setEndereco","email","setEmail","accessToken","localStorage","getItem","providerId","navigate","loadProvider","response","get","headers","Authorization","console","log","data","error","alert","replace","saveOrUpdate","e","preventDefault","post","put","err","target","value"],"sources":["/home/matheus/matProjects/AepEstoque/src/pages/CadastroFornecedor.js"],"sourcesContent":["//Libs\nimport React, { useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n\n//Static\nimport \"../static/css/formulario.css\";\n\n//Components\nimport Header from \"../components/Header\"\n\n//Services\nimport api from '../services/api';\n\nfunction CadastroFornecedor() {\n\n    const [id, setId] = useState(null);\n    const [nome, setNome] = useState('');\n    const [empresa, setEmpresa] = useState('');\n    const [contato, setContato] = useState('');\n    const [cnpj, setCnpj] = useState('');\n    const [endereco, setEndereco] = useState('');\n    const [email, setEmail] = useState('');\n\n    const accessToken = localStorage.getItem('accessToken');\n\n    const { providerId } = useParams();\n\n    let navigate = useNavigate();\n\n    async function loadProvider() {\n        try {\n            const response = await api.get(`api/v1/providers/${providerId}`, {\n                headers: {\n                    Authorization: `Bearer ${accessToken}`\n                }\n            })\n\n            console.log(response)\n\n            setId(response.data.id);\n            setEmail(response.data.email);\n            setCnpj(response.data.cnpj);\n            setContato(response.data.contato);\n            setEndereco(response.data.endereco);\n            setNome(response.data.nome)\n            setEmpresa(response.data.empresa)\n\n        } catch (error) {\n            alert('Error recovering Book! Try again!');\n            navigate(\"./home\", { replace: true });\n        }\n    }\n\n    async function saveOrUpdate(e) {\n        e.preventDefault();\n\n        const data = {\n            nome,\n            empresa,\n            contato,\n            cnpj,\n            endereco,\n            email\n        };\n\n        try {\n            if (providerId === '0') {\n                await api.post('api/v1/providers', data, {\n                    headers: {\n                        Authorization: `Bearer ${accessToken}`\n                    }\n                });\n            } else {\n                data.id = id;\n                await api.put('api/v1/providers', data, {\n                    headers: {\n                        Authorization: `Bearer ${accessToken}`\n                    }\n                });\n            }\n\n\n            \n            navigate(\"./listaFornecedores\", { replace: true });\n        } catch (err) {\n            console.log(err)\n            alert('Insira os dados corretamente e tente novamente!!!');\n        }\n    };\n\n    return (\n        <div>\n            <Header />\n            <form onSubmit={saveOrUpdate} className=\"box-form\">\n                <h2 className=\"titulo-form\">{providerId === '0' ? \"CADASTRO FORNECEDOR\" : \"ATUALIZAR FORNECEDOR\"}</h2>\n\n                <label className='titulo-campo-form'>Nome</label>\n                <input name=\"nome\" type=\"text\" className='campo-form'\n                value={nome}\n                    onChange={e => setNome(e.target.value)} />\n\n                <label className='titulo-campo-form'>Empresa</label>\n                <input name=\"empresa\" type=\"option\" className='campo-form'\n                value={email}\n                    onChange={e => setEmpresa(e.target.value)} />\n\n                <label className='titulo-campo-form'>Telefone</label>\n                <input name=\"telefone\" type=\"text\" className='campo-form'\n                value={contato}\n                    onChange={e => setContato(e.target.value)} />\n\n                <label className='titulo-campo-form'>CNPJ</label>\n                <input name=\"cnpj\" type=\"text\" className='campo-form'\n                value={cnpj}\n                    onChange={e => setCnpj(e.target.value)} />\n\n                <label className='titulo-campo-form'>Endereço</label>\n                <input name=\"endereco\" type=\"text\" className='campo-form'\n                value={endereco}\n                    onChange={e => setEndereco(e.target.value)} />\n\n                <label className='titulo-campo-form'>E-mail</label>\n                <input name=\"email\" type=\"email\" className='campo-form'\n                value={email}\n                    onChange={e => setEmail(e.target.value)} />\n\n                <button className=\"btn-form\" type=\"submit\">Enviar</button>\n            </form>\n        </div>\n    );\n}\n\nexport default CadastroFornecedor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}